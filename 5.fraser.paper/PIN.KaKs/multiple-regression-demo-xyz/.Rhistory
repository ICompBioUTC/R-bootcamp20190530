#set three varialbes
# x -> y -> z
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)/4
z = 0.8*y  + rnorm(1000)/4
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
tb = data.frame(cbind(x,y,z))
sub = tb[tb$y<0.03 & tb$y>-0.03, ]# take a thin slice of data with 'constant' y
str(sub)
hist(sub$y)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
#set three varialbes
# x -> y -> z
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
#set three varialbes
# x -> y -> z
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
#set three varialbes
# x -> y -> z
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
?set.seed
set.seed(9999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
set.seed(9999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
set.seed(9999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
set.seed(999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
set.seed(999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
set.seed(999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
summary(lm(z ~ x))
summary(lm(z ~ y))
summary(lm(z ~ x + y))
tb = data.frame(cbind(x,y,z))
sub = tb[tb$y<0.03 & tb$y>-0.03, ]# take a thin slice of data with 'constant' y
str(sub)
hist(sub$y)
summary(lm(sub$z ~ sub$x))
summary(lm(sub$z ~ sub$y))
#set three varialbes
# x -> y -> z
set.seed(999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
#pairwise correlations are significants
summary(lm(z ~ x))
summary(lm(z ~ y))
# when y is controlled, z and x are not correlated.
summary(lm(z ~ x + y))
#set three varialbes
# x -> y -> z
set.seed(999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
#pairwise correlations are significants
summary(lm(z ~ x))
summary(lm(z ~ y))
# when y is controlled, z and x are not correlated.
summary(lm(z ~ x + y))
#set three varialbes
# x -> y -> z
set.seed(999)
x = rnorm(1E4)
y = 0.8*x + rnorm(1000)
z = 0.8*y  + rnorm(1000)
#pairwise correlations are significants
summary(lm(z ~ x))
summary(lm(z ~ y))
# when y is controlled, z and x are not correlated.
summary(lm(z ~ x + y))
#third, examine z~x when for -0.03<y<0.03
summary(lm(sub$z ~ sub$x))
# when y is controlled, z and x are not correlated.
summary(lm(z ~ x + y))
#second take a thin slice of data with 'constant' y
sub = tb[tb$y<0.03 & tb$y>-0.03, ]
str(sub)
hist(sub$y)
#third, examine z~x when for -0.03<y<0.03
summary(lm(sub$z ~ sub$x))
